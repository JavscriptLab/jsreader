# jsreader
View each sentences in screen and here voice
[a link](javascript: !function(e,t){function n(){var n="";if(e.getSelection?n=e.getSelection().toString():t.selection&&"Control"!=t.selection.type&&(n=t.selection.createRange().text),""==n){var o,i=t.getElementsByTagName("a");for(o=i.length-1;o>=0;o--)i[o].parentNode.removeChild(i[o]);return t.body.innerText}return n}function o(){return 0==l?(l=!0,p++,f[p]&&i(f,p),setTimeout(function(){l=!1},500),!0):!1}function i(){var e=f[p],t={body:e,requireInteraction:!0,badge:!0},n=new Notification("",t),i=window.speechSynthesis,r=i.getVoices(),c=new window.SpeechSynthesisUtterance(e);c.volume=1,c.voice=r[4],i.speak(c),n.onclick=function(e){e.preventDefault(),n.close(),0==o()&&setTimeout(function(){o(),u=!0,setTimeout(function(){u=!1},1e3)},1e3),u=!0,setTimeout(function(){u=!1},1e3)},n.onclose=function(e){if(0==u){s("https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20170714T074814Z.bd31c09a2cd9c98c.589fb2caee26aea2ad57556b7cfefdeefa555ec8&text="+n.body+"&lang=en-ml&format=text",null,function(){if(0==u&&4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);f.splice(p+1,0,e.text.join()),f.splice(p+2,0,f[p]),o()}});for(var t=n.body.split(" "),i=0;i<t.length;i++){var r=t[i].split("'")[0].split(",")[0].split(".")[0];r.length>4&&a(r.toLowerCase())}}}}function a(e){c("http://proxy.hackeryou.com/?reqUrl=https://od-api.oxforddictionaries.com:443/api/v1/entries/en/"+e+"?xmlToJSON=false&proxyHeaders[Accept]=application/json&proxyHeaders[app_id]=2ccd0586&proxyHeaders[app_key]=7966de896f428640eb27d5798323098b",null,function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);r(t.results,e,e);for(var n=(d[e],d[e].split("\n")),o=0,i=0;i<n.length;i++){var a=n[i],s=n[i+1];if(a.startsWith("definition")&&s.startsWith("text")&&(o++,f.splice(p+2,0,e+"\n\n"+a+"\n\n"+s)),o>2)break}}})}function r(e,t,n){if(e instanceof Array)for(var o=0;o<e.length;o++){var i=e[o];"object"==typeof i&&r(i,t,n),"string"==typeof i&&(d[n]+=t+":"+i+"\n")}else for(var a in e)e.hasOwnProperty(a)&&("object"==typeof e[a]?r(e[a],a,n):d[n]+=a+":"+e[a]+"\n")}function s(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=n,o.open("POST",e,!0),o.send()}function c(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=n,o.open("GET",e),o.send()}var f=n().replace(/([\n.?!])\s*(?=[A-Za-z])/g,"$1|").split("|"),p=0,l=!1,u=!1,d={};Notification.requestPermission().then(function(e){"denied"!==e&&("default"===e&&i(f,p),i(f,p))})}(window,document);)
